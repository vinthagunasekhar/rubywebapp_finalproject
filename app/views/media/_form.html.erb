<!-- app/views/media/_form.html.erb -->

<div class="media-form-container">
  <%= form_with(model: medium, local: true, html: { class: 'media-form' }) do |form| %>
    <div class="form-group">
      <%= form.label :title, class: 'form-label' %>
      <%= form.text_field :title, class: 'form-input' %>
    </div>

    <div class="form-group">
      <%= form.label :description, class: 'form-label' %>
      <%= form.text_area :description, class: 'form-input' %>
    </div>

    <div class="form-group">
      <%= form.label :media_type, class: 'form-label' %>
      <%= form.select :media_type, ['Movie', 'Series'], {}, { class: "form-select" } %>
      <p class="form-note">If you're adding a series, please fill in the following season information.</p>
    </div>

    <div class="form-group">
      <%= form.label :ott, class: 'form-label' %>
      <%= form.select :ott, ['Amazon Prime', 'Disney Plus', 'Netflix', 'Hulu', 'Youtube'], {}, { class: "form-select" } %>
    </div>
    <!-- Image upload field -->
    <div class="form-group">
       <%= form.label :image %>
       <%= form.file_field :image, direct_upload: true %>
     </div>

    <div class="form-group">
      <%= form.label :total_seasons, class: 'form-label' %>
      <%= form.number_field :total_seasons, class: 'form-input', min: 0 %>
    </div>

    <div class="form-group">
      <%= form.label :seasons_watched, class: 'form-label' %>
      <%= form.number_field :seasons_watched, class: 'form-input', min: 0 %>
    </div>

    <div class="form-actions">
      <%= form.submit "#{medium.new_record? ? 'Create' : 'Update'} this Media", class: 'btn btn-primary' %>
      <%= link_to 'Back', user_path(current_user), class: 'btn btn-secondary' %>
    </div>
  <% end %>
</div>
